{"version":3,"sources":["webpack:///./src/views/apps/type/manageType.vue?59f6","webpack:///src/views/apps/type/manageType.vue","webpack:///./src/views/apps/type/manageType.vue?aab3","webpack:///./src/views/apps/type/manageType.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","typeSubmit","staticClass","$t","typeData","typeFetching","isPaginated","perPage","currentPage","isPaginationSimple","paginationPosition","defaultSortDirection","sortIcon","sortIconSize","scopedSlots","_u","key","fn","props","_l","column","_b","id","model","value","filters","field","callback","$$v","$set","expression","undefined","_v","_s","index","deleteType","row","type_id","type_name","changeTypeName","type_desc","changeTypeDesc","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0a406b.57636064.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{attrs:{\"action\":\"javascript:void(0)\"},on:{\"submit\":function($event){return _vm.typeSubmit()}}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col md:w-12/12 w-full mb-base\"},[_c('vx-card',{attrs:{\"title\":_vm.$t('ManageType'),\"icon\":\"AlertTriangleIcon\"}},[_c('b-table',{attrs:{\"data\":_vm.typeData,\"loading\":_vm.typeFetching,\"paginated\":_vm.isPaginated,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"pagination-simple\":_vm.isPaginationSimple,\"pagination-position\":_vm.paginationPosition,\"default-sort-direction\":_vm.defaultSortDirection,\"sort-icon\":_vm.sortIcon,\"sort-icon-size\":_vm.sortIconSize,\"default-sort\":\"user.first_name\",\"aria-next-label\":\"Next page\",\"aria-previous-label\":\"Previous page\",\"aria-page-label\":\"Page\",\"aria-current-label\":\"Current page\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._l((_vm.columns),function(column){return [_c('b-table-column',_vm._b({key:column.id,scopedSlots:_vm._u([{key:\"searchable\",fn:function(props){return (column.searchable)?[_c('b-input',{attrs:{\"placeholder\":\"ค้นหาข้อมูล\",\"icon\":\"magnify\",\"size\":\"is-small\"},model:{value:(props.filters[props.column.field]),callback:function ($$v) {_vm.$set(props.filters, props.column.field, $$v)},expression:\"props.filters[props.column.field]\"}})]:undefined}}],null,true)},'b-table-column',column,false),[(column.field === 'index')?_c('span',[_c('b-tag',{attrs:{\"rounded\":\"\",\"type\":\"is-light\"}},[_vm._v(_vm._s(props.index + 1))])],1):(column.field === 'options')?_c('span',[[_c('vs-button',{attrs:{\"color\":\"danger\",\"type\":\"relief\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteType(props.row.type_id)}}},[_vm._v(\"\\n                                                ลบประเภท\\n                                            \")])]],2):(column.field === 'type_name')?_c('span',{staticClass:\"th-font\"},[_c('b-input',{attrs:{\"value\":props.row.type_name,\"placeholder\":\"กรุณาแก้ไขข้อมูล\",\"icon\":\"pencil\",\"size\":\"is-small\"},on:{\"blur\":function($event){return _vm.changeTypeName(props.row.type_id, $event)}}})],1):(column.field === 'type_desc')?_c('span',{staticClass:\"th-font\"},[_c('b-input',{attrs:{\"value\":props.row.type_desc,\"placeholder\":\"กรุณาแก้ไขข้อมูล\",\"icon\":\"book-open-variant\",\"size\":\"is-small\"},on:{\"blur\":function($event){return _vm.changeTypeDesc(props.row.type_id, $event)}}})],1):_vm._e()])]})]}}])})],1)],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <form action=\"javascript:void(0)\" @submit=\"typeSubmit()\">\n            <div class=\"vx-row\">\n                <div class=\"vx-col md:w-12/12 w-full mb-base\">\n                    <vx-card :title=\"$t('ManageType')\" icon=\"AlertTriangleIcon\">\n                        <b-table\n                            :data=\"typeData\"\n                            :loading=\"typeFetching\"\n                            :paginated=\"isPaginated\"\n                            :per-page=\"perPage\"\n                            :current-page.sync=\"currentPage\"\n                            :pagination-simple=\"isPaginationSimple\"\n                            :pagination-position=\"paginationPosition\"\n                            :default-sort-direction=\"defaultSortDirection\"\n                            :sort-icon=\"sortIcon\"\n                            :sort-icon-size=\"sortIconSize\"\n                            default-sort=\"user.first_name\"\n                            aria-next-label=\"Next page\"\n                            aria-previous-label=\"Previous page\"\n                            aria-page-label=\"Page\"\n                            aria-current-label=\"Current page\">\n                            <template slot-scope=\"props\">\n                                <template v-for=\"column in columns\">\n                                    <b-table-column :key=\"column.id\" v-bind=\"column\">\n                                        <template\n                                            v-if=\"column.searchable\"\n                                            slot=\"searchable\"\n                                            slot-scope=\"props\">\n                                            <b-input\n                                                v-model=\"props.filters[props.column.field]\"\n                                                placeholder=\"ค้นหาข้อมูล\"\n                                                icon=\"magnify\"\n                                                size=\"is-small\" />\n                                        </template>\n                                        <span v-if=\"column.field === 'index'\">\n                                            <b-tag rounded type=\"is-light\">{{props.index + 1}}</b-tag>\n                                        </span>\n                                        <span v-else-if=\"column.field === 'options'\">\n                                            <template>\n                                                <vs-button @click=\"deleteType(props.row.type_id)\" color=\"danger\" type=\"relief\" size=\"small\">\n                                                    ลบประเภท\n                                                </vs-button>\n                                            </template>\n                                        </span>\n                                        <span class=\"th-font\" v-else-if=\"column.field === 'type_name'\">\n                                            <b-input @blur=\"changeTypeName(props.row.type_id, $event)\" :value=\"props.row.type_name\" placeholder=\"กรุณาแก้ไขข้อมูล\" icon=\"pencil\" size=\"is-small\"/>\n                                        </span>\n                                        <span class=\"th-font\" v-else-if=\"column.field === 'type_desc'\">\n                                            <b-input @blur=\"changeTypeDesc(props.row.type_id, $event)\" :value=\"props.row.type_desc\" placeholder=\"กรุณาแก้ไขข้อมูล\" icon=\"book-open-variant\" size=\"is-small\"/>\n                                        </span>\n                                    </b-table-column>\n                                </template>\n                            </template>\n                        </b-table>\n                    </vx-card>\n                </div>\n            </div>\n        </form>\n    </div>\n</template>\n<script>\n\texport default{\n\t\tdata() {\n            return {\n                columns: [\n                    {\n                        field: 'index',\n                        label: 'ลำดับ',\n                        width: '50',\n                        numeric: true,\n                        searchable: false,\n                        centered: true\n                    },\n                    {\n                        field: 'type_name',\n                        label: 'ชื่อประเภท',\n                        searchable: true,\n                    },\n                    {\n                        field: 'type_desc',\n                        label: 'รายละเอียดประเภท',\n                        searchable: true,\n                    },\n                    {\n                        field: 'options',\n                        label: 'ตัวเลือก',\n                        searchable: false,\n                    }\n                ],\n                isPaginated: true,\n                isPaginationSimple: true,\n                paginationPosition: 'bottom',\n                defaultSortDirection: 'asc',\n                sortIcon: 'arrow-up',\n                sortIconSize: 'is-small',\n                currentPage: 1,\n                perPage: 10,\n\t\t\t\ttypeData: [],\n                typeFetching: true,\n                currentTypeName: \"\",\n                currentTypeDesc: \"\",\n\t\t\t\talertMessage: \"\",\n\t\t\t\talertPosition: \"\",\n\t\t\t\talertType: \"\",\n            }\n        },\n        methods: {\n        \tgetTypeAsyncData () {\n                this.typeFetching = true\n                this.$http.get(`https://gservernodejs.herokuapp.com/api/type/all`)\n                    .then(({ data }) => {\n                        this.typeData = []\n                        if(data !== \"ERROR|EMPTYINFO\"){\n                        \tdata.forEach((item) => this.typeData.push(item))\n                        }\n                    })\n                    .catch((error) => {\n                        this.typeData = []\n                        throw error\n                    })\n                    .finally(() => {\n                        this.typeFetching = false\n                    })\n            },\n            changeTypeName (value,event) {\n            \tthis.$http.post(`https://gservernodejs.herokuapp.com/api/type/manage/name`,{\n            \t\ttype_id: value,\n            \t\ttype_name: event.target.value\n            \t}).then((response) => {\n            \t\tif(response.data === \"SUCCEED|UPDATED\"){\n\t\t\t\t\t  \tthis.alertMessage = \"แก้ไขชื่อประเภทแล้วค่ะ\"\n\t\t\t\t\t\tthis.alertPosition = \"bottom-right\"\n\t\t\t\t\t\tthis.alertType = \"success\"\n            \t\t\tthis.getTypeAsyncData()\n            \t\t\tthis.alert()\n            \t\t}\n            \t})\n            },\n            changeTypeDesc (value,event) {\n            \tthis.$http.post(`https://gservernodejs.herokuapp.com/api/type/manage/desc`,{\n            \t\ttype_id: value,\n            \t\ttype_desc: event.target.value\n            \t}).then((response) => {\n            \t\tif(response.data === \"SUCCEED|UPDATED\"){\n\t\t\t\t\t  \tthis.alertMessage = \"แก้ไขรายละเอียดประเภทแล้วค่ะ\"\n\t\t\t\t\t\tthis.alertPosition = \"bottom-right\"\n\t\t\t\t\t\tthis.alertType = \"success\"\n            \t\t\tthis.getTypeAsyncData()\n            \t\t\tthis.alert()\n            \t\t}\n            \t})\n            },\n            deleteType(value){\n            \tthis.confirmCustomDelete(value);\n            },\n            alert() {\n                this.$vs.notify({\n\t\t          title: \"Gentax\",\n\t\t          text: this.alertMessage,\n                  color: this.alertType,\n                  position: this.alertPosition\n\t\t      \t})\n            },\n            confirmCustomDelete(value) {\n                this.$buefy.dialog.confirm({\n                    title: 'ยืนยันการลบประเภทสินค้า',\n                    message: 'คุณมั่นใจว่าต้องการลบประเภทนี้, ข้อมูลจะไม่สามารถกู้คืนได้',\n                    confirmText: 'ยืนยัน',\n                    cancelText: 'ย้อนกลับ',\n                    type: 'is-danger',\n                    hasIcon: true,\n                    onConfirm: () => {\n                    \tthis.$http.post(`https://gservernodejs.herokuapp.com/api/type/delete`,{\n\t\t            \t\ttype_id: value\n\t\t            \t}).then((response) => {\n\t\t            \t\tif(response.data === \"SUCCEED|DELETED\"){\n\t\t\t\t\t\t\t  \tthis.alertMessage = \"ลบประเภทสินค้าแล้วค่ะ\"\n\t\t\t\t\t\t\t\tthis.alertPosition = \"bottom-right\"\n\t\t\t\t\t\t\t\tthis.alertType = \"success\"\n\t\t            \t\t\tthis.getTypeAsyncData()\n\t\t            \t\t\tthis.alert()\n\t\t            \t\t}\n\t\t            \t})\n                    }\n                })\n            }\n        },\n        mounted(){\n        \tthis.getTypeAsyncData()\n        }\n\t};\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageType.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./manageType.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./manageType.vue?vue&type=template&id=4d3c24d4&\"\nimport script from \"./manageType.vue?vue&type=script&lang=js&\"\nexport * from \"./manageType.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}